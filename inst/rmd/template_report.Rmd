---
title: "Report"
output: pdf_document
params:
  input_dir: ''
  UniprotID: ''

---

```{r,echo=TRUE,  message=FALSE, warning=FALSE}
library(ProteoMS)

MQPathCombined <- params$input_dir

files <- ReadDataFromDir(MQPathCombined) 

summary <- files[["summary.txt"]]
evidence <- files[["evidence.txt"]]
msScans <- files[['msScans.txt']]
peptides <- files[["peptides.txt"]]
msmsScans <- files[["msmsScans.txt"]]
proteinGroups <- files[["proteinGroups.txt"]]
modificationSpecificPeptides.txt  <- files[["modificationSpecificPeptides.txt"]]
runningTimes <-  files[["#runningTimes.txt"]]
parameters <- files[["parameters.txt"]]
```


\newpage
```{r ExperimentDuration, echo=TRUE}
ExperimentInformation(runningTimes, parameters) 
```


\newpage
```{r PlotPeaks, fig.height = 9, fig.width=7.2, echo=TRUE}
PlotPeaks(summary, long_names = TRUE, sep_names = '_')
```

\newpage
```{r PlotMSMS, fig.height = 9, fig.width=7.2, echo=TRUE}
PlotMsMs(summary,long_names = TRUE, sep_names = '_')
```

\newpage
```{r isotope, fig.height = 9, fig.width=7.2, echo=TRUE}
PlotIsotopePattern(summary,long_names = TRUE, sep_names = '_')
```

\newpage
```{r PeptidesIdentified, warning=FALSE , fig.height = 9, fig.width=7.2, echo=TRUE}
PLotPeptidesIdentified(summary, long_names = TRUE, sep_names = '_')
```

\newpage
```{r PlotIntensity, warning = FALSE, fig.height = 9, fig.width=7.2, echo=TRUE}
PlotIntensity(proteinGroups, intensity_type = 'Intensity', log_base = 10, 
              long_names = TRUE, sep_names = '_')
```

\newpage
```{r irt_peps1, warning = FALSE, message= FALSE, fig.height = 9, fig.width=9.2, echo=TRUE}
PlotiRT(evidence, show_calibrated_rt = FALSE)
```
\newpage

```{r irt_peps2, warning = FALSE, message= FALSE, fig.height = 9, fig.width=9.2, echo=TRUE}
PlotiRTScore(evidence)
```


\newpage
```{r IdentificationType, message= FALSE, warning = FALSE, fig.height = 8, fig.width=7.2, echo=TRUE}
if(parameters$Value[27] == "True"){
  PlotIdentificationType(peptides, long_names = TRUE, sep_names = '_')  
} else{
  print('Match Between Runs was not used during the MaxQuant analysis.
        No Identification Type to show.')
}
```

\newpage
```{r Charg, warning=FALSE, message=FALSE, fig.height = 9, fig.width=7.2, echo=TRUE}
PlotCharge(evidence)
```

\newpage
```{r missed_cleavages, warning=FALSE, message=FALSE, echo=TRUE,fig.height = 9, fig.width=7.2, echo=TRUE}

PlotProteaseSpecificity(peptides)

```

\newpage
```{r TotalIonCurrent, fig.height = 9, fig.width=7.2, echo=TRUE}
PlotTotalIonCurrent(msmsScans)
```
\newpage

```{r ProteinCoverage, fig.height = 9, fig.width=7.2, echo=TRUE}
PlotProteinCoverage(peptides, UniprotID = params$UniprotID, 
                    log_base = 10, segment_width = 3)
```

\newpage
```{r PlotAcquisition, fig.height= 8, echo=TRUE, warning=FALSE}
PlotAcquisitionCycle(msScans)
```
\newpage
```{r DynamicRange, fig.height = 8, fig.width=7.2, echo=TRUE}
PlotCombinedDynamicRange(proteinGroups)
```
\newpage
```{r DynamicRangeAll, fig.height=8, fig.width=7.2, echo=TRUE}
PLotAllDynamicRange(proteinGroups,columns = 1,rows = 3)
```
